{"ast":null,"code":"import _assertThisInitialized from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _slicedToArray from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _inherits from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*global chrome*/import React from\"react\";import Paper from\"@material-ui/core/Paper\";import Tabs from\"@material-ui/core/Tabs\";import Tab from\"@material-ui/core/Tab\";import Typography from\"@material-ui/core/Typography\";import Button from\"@material-ui/core/Button\";import{MessagesTab,PostsTab}from\"./OlympcepyTabs\";var OlympcepyContent=/*#__PURE__*/function(_React$Component){_inherits(OlympcepyContent,_React$Component);var _super=_createSuper(OlympcepyContent);function OlympcepyContent(){var _this;_classCallCheck(this,OlympcepyContent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.render=function(){switch(_this.props.currentPage){case 0:return/*#__PURE__*/React.createElement(MessagesContent,null);case 1:return/*#__PURE__*/React.createElement(PostsContent,null);case 2:return/*#__PURE__*/React.createElement(FormatContent,null);case 3:return/*#__PURE__*/React.createElement(AccountContent,null);default:return/*#__PURE__*/React.createElement(Typography,null,\"Default page\");}};return _this;}return OlympcepyContent;}(React.Component);function OPTabs(props){var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var handleChange=function handleChange(event,newValue){setValue(newValue);props.tabChanged(newValue);};return/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Tabs,{value:value,onChange:handleChange},/*#__PURE__*/React.createElement(Tab,{label:\"Olymp Trade\"}),/*#__PURE__*/React.createElement(Tab,{label:\"Pocket Option\"})));}var MessagesContent=/*#__PURE__*/function(_React$Component2){_inherits(MessagesContent,_React$Component2);var _super2=_createSuper(MessagesContent);function MessagesContent(props){var _this2;_classCallCheck(this,MessagesContent);_this2=_super2.call(this,props);_this2.tabChanged=function(index){_this2.setState(function(state){state.index=index;return state;});};_this2.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(OPTabs,{tabChanged:_this2.tabChanged}),/*#__PURE__*/React.createElement(MessagesTab,{platform:_this2.state.index}));};_this2.state={index:0};return _this2;}return MessagesContent;}(React.Component);var PostsContent=/*#__PURE__*/function(_React$Component3){_inherits(PostsContent,_React$Component3);var _super3=_createSuper(PostsContent);function PostsContent(props){var _this3;_classCallCheck(this,PostsContent);_this3=_super3.call(this,props);_this3.loadGroups=function(){chrome.storage.local.get(['settsData'],function(res){var r=res;if(r.settsData.posts&&r.settsData.posts.accessToken){_this3.setState(function(state){state.registered=true;state.token=r.settsData.posts.accessToken;return state;});}else{_this3.setState(function(state){state.registered=false;state.token=undefined;return state;});}});};_this3.register=function(){chrome.storage.local.set({\"CepVkLogin\":true},function(){window.open(\"https://oauth.vk.com/authorize?client_id=6290333&scope=wall,offline&redirect_uri=http://oauth.vk.com/blank.html&response_type=token&v=5.92\");});};_this3.tabChanged=function(index){_this3.setState(function(state){state.index=index;return state;});};_this3.render=function(){if(!_this3.state.registered){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Paper,{style:{padding:10}},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",disableElevation:true,onClick:_this3.register},\"\\u041F\\u0440\\u0438\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \\u0432\\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435\")));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Paper,{style:{padding:10}},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",disableElevation:true,onClick:_this3.register},\"\\u041F\\u0440\\u0438\\u0432\\u044F\\u0437\\u0430\\u0442\\u044C \\u0434\\u0440\\u0443\\u0433\\u043E\\u0439 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442 \\u0432\\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435\")),/*#__PURE__*/React.createElement(OPTabs,{tabChanged:_this3.tabChanged}),/*#__PURE__*/React.createElement(PostsTab,{platform:_this3.state.index}));}};_this3.state={registered:false};var self=_assertThisInitialized(_this3);chrome.runtime.onMessage.addListener(function(request,sender,sendResponse){if(request.accessToken&&request.extension==\"Olympcepy\"){sendResponse({});self.loadGroups();}});return _this3;}return PostsContent;}(React.Component);var FormatContent=/*#__PURE__*/function(_React$Component4){_inherits(FormatContent,_React$Component4);var _super4=_createSuper(FormatContent);function FormatContent(){var _this4;_classCallCheck(this,FormatContent);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this4=_super4.call.apply(_super4,[this].concat(args));_this4.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,\"format\");};return _this4;}return FormatContent;}(React.Component);var AccountContent=/*#__PURE__*/function(_React$Component5){_inherits(AccountContent,_React$Component5);var _super5=_createSuper(AccountContent);function AccountContent(){var _this5;_classCallCheck(this,AccountContent);for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}_this5=_super5.call.apply(_super5,[this].concat(args));_this5.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,\"account\");};return _this5;}return AccountContent;}(React.Component);export default OlympcepyContent;","map":{"version":3,"sources":["E:/Olympcepy/settings/src/OlympcepyContent.js"],"names":["React","Paper","Tabs","Tab","Typography","Button","MessagesTab","PostsTab","OlympcepyContent","render","props","currentPage","Component","OPTabs","useState","value","setValue","handleChange","event","newValue","tabChanged","MessagesContent","index","setState","state","PostsContent","loadGroups","chrome","storage","local","get","res","r","settsData","posts","accessToken","registered","token","undefined","register","set","window","open","padding","self","runtime","onMessage","addListener","request","sender","sendResponse","extension","FormatContent","AccountContent"],"mappings":"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","sourcesContent":["/*global chrome*/\r\n\r\nimport React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport {MessagesTab, PostsTab} from \"./OlympcepyTabs\";\r\n\r\nclass OlympcepyContent extends React.Component {\r\n    render = () => {\r\n        switch (this.props.currentPage) {\r\n            case 0:\r\n                return <MessagesContent />;\r\n            case 1:\r\n                return <PostsContent />;\r\n            case 2:\r\n                return <FormatContent />;\r\n            case 3:\r\n                return <AccountContent />;\r\n            default:\r\n                return <Typography>Default page</Typography>;\r\n        }\r\n    };\r\n}\r\n\r\nfunction OPTabs(props) {\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n        props.tabChanged(newValue);\r\n    };\r\n    return (\r\n        <Paper>\r\n            <Tabs value={value} onChange={handleChange}>\r\n                <Tab label=\"Olymp Trade\" />\r\n                <Tab label=\"Pocket Option\" />\r\n            </Tabs>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nclass MessagesContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { index: 0 };\r\n    }\r\n\r\n    tabChanged = (index) => {\r\n        this.setState((state) => {\r\n            state.index = index;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    render = () => {\r\n        return (\r\n            <>\r\n                <OPTabs tabChanged={this.tabChanged} />\r\n                <MessagesTab platform={this.state.index} />\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nclass PostsContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { registered: false };\r\n        var self = this;\r\n        chrome.runtime.onMessage.addListener(\r\n            (request, sender, sendResponse) => {\r\n            if (request.accessToken && request.extension == \"Olympcepy\") {\r\n                sendResponse({});\r\n                self.loadGroups();\r\n            }\r\n        })\r\n    }\r\n\r\n    loadGroups = () => {\r\n        chrome.storage.local.get(['settsData'], (res)=>{\r\n            var r = res;\r\n            if (r.settsData.posts && r.settsData.posts.accessToken){\r\n                this.setState((state) => {\r\n                    state.registered = true;\r\n                    state.token = r.settsData.posts.accessToken;\r\n                    return state;\r\n                });\r\n            } else {\r\n                this.setState((state) => {\r\n                    state.registered = false;\r\n                    state.token = undefined;\r\n                    return state;\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    register = () => {\r\n        chrome.storage.local.set({ \"CepVkLogin\": true }, () => {\r\n            window.open(\r\n                \"https://oauth.vk.com/authorize?client_id=6290333&scope=wall,offline&redirect_uri=http://oauth.vk.com/blank.html&response_type=token&v=5.92\"\r\n            );\r\n        });\r\n    };\r\n\r\n    tabChanged = (index) => {\r\n        this.setState((state) => {\r\n            state.index = index;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    render = () => {\r\n        if (!this.state.registered) {\r\n            return (\r\n                <>\r\n                <Paper style={{padding: 10}}>\r\n                    <Button variant=\"contained\" color=\"primary\" disableElevation onClick={this.register}>Привязать аккаунт вконтакте</Button>\r\n                </Paper>\r\n                </>\r\n            );\r\n        } else {\r\n            return (\r\n                <>\r\n                <Paper style={{padding: 10}}>\r\n                    <Button variant=\"contained\" color=\"primary\" disableElevation onClick={this.register}>Привязать другой аккаунт вконтакте</Button>\r\n                </Paper>\r\n                <OPTabs tabChanged={this.tabChanged} />\r\n                <PostsTab platform={this.state.index} />\r\n                </>\r\n            );\r\n        }\r\n    };\r\n}\r\n\r\nclass FormatContent extends React.Component {\r\n    render = () => {\r\n        return <>format</>;\r\n    };\r\n}\r\n\r\nclass AccountContent extends React.Component {\r\n    render = () => {\r\n        return <>account</>;\r\n    };\r\n}\r\n\r\nexport default OlympcepyContent;\r\n"]},"metadata":{},"sourceType":"module"}
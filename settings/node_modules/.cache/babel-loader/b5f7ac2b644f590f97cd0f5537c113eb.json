{"ast":null,"code":"import _classCallCheck from\"E:\\\\Olympcepy\\\\pro\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _inherits from\"E:\\\\Olympcepy\\\\pro\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Olympcepy\\\\pro\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*global chrome*/import React from\"react\";import CircularProgress from\"@material-ui/core/CircularProgress\";import List from\"@material-ui/core/List\";import ListItem from\"@material-ui/core/ListItem\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import ListItemText from\"@material-ui/core/ListItemText\";import EditIcon from\"@material-ui/icons/Edit\";import AddIcon from\"@material-ui/icons/Add\";var MessagesTab=/*#__PURE__*/function(_React$Component){_inherits(MessagesTab,_React$Component);var _super=_createSuper(MessagesTab);function MessagesTab(props){var _this;_classCallCheck(this,MessagesTab);_this=_super.call(this,props);_this.loadChats=function(){chrome.storage.local.get([\"settsData\"],function(r){var _this2=this;if(r.settsData!=undefined&&r.settsData.messages&&r.settsData.messages[this.props.platform]&&r.settsData.messages[this.props.platform].groupToken){this.setState(function(state){state.hasToken=true;state.groupToken=r.settsData.messages[_this2.props.platform].groupToken;return state;});}else{this.setState(function(state){state.hasToken=false;state.groupToken=undefined;return state;});}});};_this.render=function(){if(_this.state.hasToken==undefined){_this.loadChats();return/*#__PURE__*/React.createElement(CircularProgress,{style:{textAlign:\"center\"}});}else if(_this.state.hasToken){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(EditIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:_this.state.groupToken.slice(0,5)+\"...\"}))));}else{return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(AddIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Укажите API-ключ группы\"}))));}};_this.state={};return _this;}return MessagesTab;}(React.Component);export default MessagesTab;","map":{"version":3,"sources":["E:/Olympcepy/pro/src/OlympcepyTabs.js"],"names":["React","CircularProgress","List","ListItem","ListItemIcon","ListItemText","EditIcon","AddIcon","MessagesTab","props","loadChats","chrome","storage","local","get","r","settsData","undefined","messages","platform","groupToken","setState","state","hasToken","render","textAlign","slice","Component"],"mappings":"8ZAAA,iBAEA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gCAAzB,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,C,GAEMC,CAAAA,W,sHACF,qBAAYC,KAAZ,CAAmB,6CACf,uBAAMA,KAAN,EADe,MAKnBC,SALmB,CAKP,UAAM,CACdC,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,CAAC,WAAD,CAAzB,CAAwC,SAAUC,CAAV,CAAa,iBACjD,GACIA,CAAC,CAACC,SAAF,EAAeC,SAAf,EACAF,CAAC,CAACC,SAAF,CAAYE,QADZ,EAEAH,CAAC,CAACC,SAAF,CAAYE,QAAZ,CAAqB,KAAKT,KAAL,CAAWU,QAAhC,CAFA,EAGAJ,CAAC,CAACC,SAAF,CAAYE,QAAZ,CAAqB,KAAKT,KAAL,CAAWU,QAAhC,EAA0CC,UAJ9C,CAKE,CACE,KAAKC,QAAL,CAAc,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,QAAN,CAAiB,IAAjB,CACAD,KAAK,CAACF,UAAN,CAAmBL,CAAC,CAACC,SAAF,CAAYE,QAAZ,CAAqB,MAAI,CAACT,KAAL,CAAWU,QAAhC,EAA0CC,UAA7D,CACA,MAAOE,CAAAA,KAAP,CACH,CAJD,EAKH,CAXD,IAWO,CACH,KAAKD,QAAL,CAAc,SAACC,KAAD,CAAW,CACrBA,KAAK,CAACC,QAAN,CAAiB,KAAjB,CACAD,KAAK,CAACF,UAAN,CAAmBH,SAAnB,CACA,MAAOK,CAAAA,KAAP,CACH,CAJD,EAKH,CACJ,CAnBD,EAoBH,CA1BkB,OA4BnBE,MA5BmB,CA4BV,UAAM,CACX,GAAI,MAAKF,KAAL,CAAWC,QAAX,EAAuBN,SAA3B,CAAqC,CACjC,MAAKP,SAAL,GACA,mBAAO,oBAAC,gBAAD,EAAkB,KAAK,CAAE,CAAEe,SAAS,CAAE,QAAb,CAAzB,EAAP,CACH,CAHD,IAGO,IAAI,MAAKH,KAAL,CAAWC,QAAf,CAAyB,CAC5B,mBACI,qDACI,oBAAC,IAAD,mBACI,oBAAC,QAAD,EAAU,MAAM,KAAhB,eACI,oBAAC,YAAD,mBACI,oBAAC,QAAD,MADJ,CADJ,cAII,oBAAC,YAAD,EACI,OAAO,CACH,MAAKD,KAAL,CAAWF,UAAX,CAAsBM,KAAtB,CAA4B,CAA5B,CAA+B,CAA/B,EAAoC,KAF5C,EAJJ,CADJ,CADJ,CADJ,CAgBH,CAjBM,IAiBA,CACH,mBAAO,qDACH,oBAAC,IAAD,mBACI,oBAAC,QAAD,EAAU,MAAM,KAAhB,eACI,oBAAC,YAAD,mBACI,oBAAC,OAAD,MADJ,CADJ,cAII,oBAAC,YAAD,EAAc,OAAO,CAAE,yBAAvB,EAJJ,CADJ,CADG,CAAP,CAUH,CACJ,CA7DkB,CAEf,MAAKJ,KAAL,CAAa,EAAb,CAFe,aAGlB,C,qBAJqBtB,KAAK,CAAC2B,S,EAiEhC,cAAenB,CAAAA,WAAf","sourcesContent":["/*global chrome*/\r\n\r\nimport React from \"react\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nclass MessagesTab extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    loadChats = () => {\r\n        chrome.storage.local.get([\"settsData\"], function (r) {\r\n            if (\r\n                r.settsData != undefined &&\r\n                r.settsData.messages &&\r\n                r.settsData.messages[this.props.platform] &&\r\n                r.settsData.messages[this.props.platform].groupToken\r\n            ) {\r\n                this.setState((state) => {\r\n                    state.hasToken = true;\r\n                    state.groupToken = r.settsData.messages[this.props.platform].groupToken;\r\n                    return state\r\n                });\r\n            } else {\r\n                this.setState((state) => {\r\n                    state.hasToken = false;\r\n                    state.groupToken = undefined\r\n                    return state\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    render = () => {\r\n        if (this.state.hasToken == undefined){\r\n            this.loadChats()\r\n            return <CircularProgress style={{ textAlign: \"center\" }} />;\r\n        } else if (this.state.hasToken) {\r\n            return (\r\n                <>\r\n                    <List>\r\n                        <ListItem button>\r\n                            <ListItemIcon>\r\n                                <EditIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={\r\n                                    this.state.groupToken.slice(0, 5) + \"...\"\r\n                                }\r\n                            />\r\n                        </ListItem>\r\n                    </List>\r\n                </>\r\n            );\r\n        } else {\r\n            return <>\r\n                <List>\r\n                    <ListItem button>\r\n                        <ListItemIcon>\r\n                            <AddIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Укажите API-ключ группы\"} />\r\n                    </ListItem>\r\n                </List>\r\n            </>;\r\n        }\r\n    };\r\n}\r\n\r\nexport default MessagesTab;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";/*global chrome*/var VKMethods=function VKMethods(){_classCallCheck(this,VKMethods);};VKMethods.executed=function(callback){return function(event){if(callback){try{callback(JSON.parse(event.target.responseText));}catch(e){}}};};VKMethods.getGroupChats=function(groupToken,callback){var xhr=new XMLHttpRequest();xhr.open(\"GET\",\"https://api.vk.com/method/messages.getConversations?access_token=\".concat(groupToken,\"&v=5.120\"));xhr.onload=VKMethods.executed(callback);xhr.send();};VKMethods.sendMessageToGroupChat=function(groupToken,id,message,callback){var xhr=new XMLHttpRequest();xhr.open(\"GET\",\"https://api.vk.com/method/messages.send?peer_id=\".concat(id,\"&message=\").concat(encodeURIComponent(message),\"&access_token=\").concat(groupToken,\"&v=5.38\"));xhr.onload=VKMethods.executed(callback);xhr.send();};VKMethods.getUsersGroups=function(id,token,callback){var xhr=new XMLHttpRequest();xhr.open(\"GET\",\"https://api.vk.com/method/groups.get?user_id=\".concat(id,\"&filter=admin,editor,moder&extended=1&v=5.92&access_token=\").concat(token));xhr.onload=VKMethods.executed(callback);xhr.send();};VKMethods.getMyGroups=function(callback){var cb=callback;chrome.storage.local.get(['settsData','userId'],function(res){var r=res;VKMethods.getUsersGroups(r.userId,r.settsData.accessToken,cb);});};VKMethods.postOnGroupWall=function(groupId,token,message,callback){var xhr=new XMLHttpRequest();xhr.open(\"POST\",\"https://api.vk.com/method/wall.post?owner_id=-\".concat(groupId,\"&from_group=1&message=\").concat(message,\"&signed=1&v=5.120&access_token=\").concat(token),true);xhr.onload=VKMethods.executed(callback);xhr.send();};VKMethods.postOnMyGroupWall=function(groupId,message,callback){var cb=callback;var id=groupId;var m=message;chrome.storage.local.get(['settsData'],function(res){var r=res;VKMethods.getUsersGroups(id,r.settsData.accessToken,m,cb);});};export default VKMethods;","map":{"version":3,"sources":["E:/Olympcepy/settings/src/VKMethods.js"],"names":["VKMethods","executed","callback","event","JSON","parse","target","responseText","e","getGroupChats","groupToken","xhr","XMLHttpRequest","open","onload","send","sendMessageToGroupChat","id","message","encodeURIComponent","getUsersGroups","token","getMyGroups","cb","chrome","storage","local","get","res","r","userId","settsData","accessToken","postOnGroupWall","groupId","postOnMyGroupWall","m"],"mappings":"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","sourcesContent":["/*global chrome*/\r\n\r\nclass VKMethods {\r\n    static executed = (callback) => (event) => {\r\n        if (callback) {\r\n            try {\r\n                callback(JSON.parse(event.target.responseText));\r\n            } catch (e) {}\r\n        }\r\n    };\r\n\r\n    static getGroupChats = (groupToken, callback) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\r\n            \"GET\",\r\n            `https://api.vk.com/method/messages.getConversations?access_token=${groupToken}&v=5.120`\r\n        );\r\n        xhr.onload = VKMethods.executed(callback);\r\n        xhr.send();\r\n    };\r\n\r\n    static sendMessageToGroupChat = (groupToken, id, message, callback) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\r\n            \"GET\",\r\n            `https://api.vk.com/method/messages.send?peer_id=${id}&message=${encodeURIComponent(\r\n                message\r\n            )}&access_token=${groupToken}&v=5.38`\r\n        );\r\n        xhr.onload = VKMethods.executed(callback);\r\n        xhr.send();\r\n    };\r\n\r\n    static getUsersGroups = (id, token, callback) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\r\n            \"GET\",\r\n            `https://api.vk.com/method/groups.get?user_id=${id}&filter=admin,editor,moder&extended=1&v=5.92&access_token=${token}`\r\n        );\r\n        xhr.onload = VKMethods.executed(callback);\r\n        xhr.send();\r\n    };\r\n\r\n    static getMyGroups = (callback) => {\r\n        var cb = callback\r\n        chrome.storage.local.get(['settsData', 'userId'], (res)=>{\r\n            var r = res;\r\n            VKMethods.getUsersGroups(r.userId, r.settsData.accessToken, cb)\r\n        })\r\n    }\r\n\r\n    static postOnGroupWall = (groupId, token, message, callback) => {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open(\r\n            \"POST\",\r\n            `https://api.vk.com/method/wall.post?owner_id=-${groupId}&from_group=1&message=${message}&signed=1&v=5.120&access_token=${token}`,\r\n            true\r\n        );\r\n        xhr.onload = VKMethods.executed(callback);\r\n        xhr.send();\r\n    };\r\n\r\n    static postOnMyGroupWall = (groupId, message, callback) => {\r\n        var cb = callback\r\n        var id = groupId;\r\n        var m = message;\r\n        chrome.storage.local.get(['settsData'], (res)=>{\r\n            var r = res;\r\n            VKMethods.getUsersGroups(id, r.settsData.accessToken, m, cb)\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport default VKMethods;\r\n"]},"metadata":{},"sourceType":"module"}
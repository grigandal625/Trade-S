{"ast":null,"code":"import _assertThisInitialized from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _classCallCheck from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*global chrome*/import React from\"react\";import SwipeableDrawer from\"@material-ui/core/SwipeableDrawer\";import List from\"@material-ui/core/List\";import Divider from\"@material-ui/core/Divider\";import ListItem from\"@material-ui/core/ListItem\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import ListItemText from\"@material-ui/core/ListItemText\";import EmailIcon from\"@material-ui/icons/Email\";import WallpaperIcon from\"@material-ui/icons/Wallpaper\";import AccountBoxIcon from\"@material-ui/icons/AccountBox\";import RadioButtonCheckedIcon from\"@material-ui/icons/RadioButtonChecked\";import AppBar from\"@material-ui/core/AppBar\";import Toolbar from\"@material-ui/core/Toolbar\";import Typography from\"@material-ui/core/Typography\";import IconButton from\"@material-ui/core/IconButton\";import MenuIcon from\"@material-ui/icons/Menu\";import ArrowBackIcon from\"@material-ui/icons/ArrowBack\";import Breadcrumbs from\"@material-ui/core/Breadcrumbs\";import Link from\"@material-ui/core/Link\";import Avatar from\"@material-ui/core/Avatar\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Container from\"react-bootstrap/Container\";import Row from\"react-bootstrap/Row\";import Col from\"react-bootstrap/Col\";import OlympcepyContent from\"./OlympcepyContent\";import API from\"./API\";import{Button}from\"@material-ui/core\";var CenterView=/*#__PURE__*/function(_React$Component){_inherits(CenterView,_React$Component);var _super=_createSuper(CenterView);function CenterView(){_classCallCheck(this,CenterView);return _super.apply(this,arguments);}_createClass(CenterView,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},this.props.children);}}]);return CenterView;}(React.Component);var Page=/*#__PURE__*/function(_React$Component2){_inherits(Page,_React$Component2);var _super2=_createSuper(Page);function Page(props){var _this;_classCallCheck(this,Page);_this=_super2.call(this,props);// this.state = { open: false, currentPage: 4 };\n_this.loadAccount=function(){var self=_assertThisInitialized(_this);chrome.storage.local.get([\"userId\",\"settsData\"],function(res){var r=res;if(r.settsData&&r.settsData.accessToken&&r.userId){_this.loadData(r.userId,r.settsData);}else{r.settsData=r.settsData?r.settsData:{};chrome.storage.local.set({settsData:r.settsData},function(){self.setState(function(state){state.registered=false;state.accessToken=undefined;state.userId=undefined;return state;});});}});};_this.loadData=function(userId,setts){var s=setts;var self=_assertThisInitialized(_this);API.getUserById(userId,function(resp){API.setUserSetts(resp.id,s,function(){self.setState(function(state){state.registered=true;state.accessToken=s.accessToken;state.userId=userId;return state;});});});};_this.register=function(){chrome.storage.local.set({\"CepVkLogin\":true},function(){window.open(\"https://oauth.vk.com/authorize?client_id=6290333&scope=wall,offline&redirect_uri=http://oauth.vk.com/blank.html&response_type=token&v=5.92\");});};_this.onPanelSwitch=function(open){return function(event){if(open===null){open=!_this.state.open;}if(event&&event.type===\"keydown\"&&(event.key===\"Tab\"||event.key===\"Shift\")){return;}_this.setState(function(state){state.open=open;return state;});};};_this.home=function(){_this.setState(function(state){state.currentPage=4;return state;});};_this.render=function(){if(!_this.state.registered){return/*#__PURE__*/React.createElement(CenterView,null,/*#__PURE__*/React.createElement(Card,{style:{width:300,display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(CardContent,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(Typography,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},\"\\u0414\\u043B\\u044F \\u0438\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F \\u0440\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u0438\\u044F \\u043D\\u0435\\u043E\\u0431\\u0445\\u043E\\u0434\\u0438\\u043C\\u043E \\u043F\\u0440\\u043E\\u0439\\u0442\\u0438 \\u0430\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E \\u0441 \\u043F\\u043E\\u043C\\u043E\\u0449\\u044C\\u044E \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435.\")),/*#__PURE__*/React.createElement(CardActions,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"}},/*#__PURE__*/React.createElement(Button,{style:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},color:\"primary\",onClick:_this.register},\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F \\u0412\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0435\"))));}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(AppBar,{position:\"static\"},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"menu\",onClick:_this.onPanelSwitch(true)},/*#__PURE__*/React.createElement(MenuIcon,null)),/*#__PURE__*/React.createElement(Avatar,{src:\"icon_128.png\",style:{cursor:\"pointer\"},onClick:_this.home}),/*#__PURE__*/React.createElement(Typography,{style:{cursor:\"pointer\",marginLeft:10},onClick:_this.home,variant:\"h6\"},\"Olympcepy\"))),/*#__PURE__*/React.createElement(SwipeableDrawer,{open:_this.state.open,onOpen:_this.onPanelSwitch(true),onClose:_this.onPanelSwitch(false)},/*#__PURE__*/React.createElement(PageMenu,{page:_assertThisInitialized(_this)})),/*#__PURE__*/React.createElement(OlympcepyPath,{currentPage:_this.state.currentPage,page:_assertThisInitialized(_this)}),/*#__PURE__*/React.createElement(OlympcepyContent,{currentPage:_this.state.currentPage}));};_this.state={registered:false};_this.loadAccount();return _this;}return Page;}(React.Component);var OlympcepyPath=/*#__PURE__*/function(_React$Component3){_inherits(OlympcepyPath,_React$Component3);var _super3=_createSuper(OlympcepyPath);function OlympcepyPath(){var _this2;_classCallCheck(this,OlympcepyPath);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this2=_super3.call.apply(_super3,[this].concat(args));_this2.home=function(){_this2.props.page.setState(function(state){state.currentPage=4;return state;});};_this2.render=function(){return/*#__PURE__*/React.createElement(Breadcrumbs,{style:{padding:20},\"aria-label\":\"breadcrumb\"},/*#__PURE__*/React.createElement(Link,{style:{cursor:\"pointer\"},onClick:_this2.home},\"Olympcepy\"),/*#__PURE__*/React.createElement(Typography,{style:{cursor:\"default\"}},[\"Сообщения в чатах группы\",\"Пост на стене группы\",\"Формат сигналов\",\"Дополнительно\",\"\"][_this2.props.currentPage]));};return _this2;}return OlympcepyPath;}(React.Component);var PageMenu=/*#__PURE__*/function(_React$Component4){_inherits(PageMenu,_React$Component4);var _super4=_createSuper(PageMenu);function PageMenu(){var _this3;_classCallCheck(this,PageMenu);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this3=_super4.call.apply(_super4,[this].concat(args));_this3.openMessages=function(){_this3.props.page.setState(function(state){state.open=false;state.currentPage=0;return state;});};_this3.openPosts=function(){_this3.props.page.setState(function(state){state.open=false;state.currentPage=1;return state;});};_this3.openFormat=function(){_this3.props.page.setState(function(state){state.open=false;state.currentPage=2;return state;});};_this3.openAccount=function(){_this3.props.page.setState(function(state){state.open=false;state.currentPage=3;return state;});};_this3.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(List,{style:{marginTop:-8}},/*#__PURE__*/React.createElement(ListItem,{style:{padding:16,paddingLeft:25,background:\"#3f51b5\",color:\"white\"},button:true,key:\"Меню настроек\",onClick:_this3.props.page.onPanelSwitch(false)},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(ArrowBackIcon,{style:{color:\"white\"}})),/*#__PURE__*/React.createElement(ListItemText,{style:{marginLeft:-20},primary:\"Меню настроек\"}))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"label\",{style:{textAlign:\"center\"}},\"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u043A\\u0430 \\u0441\\u0438\\u0433\\u043D\\u0430\\u043B\\u043E\\u0432 \\u0432 \\u0412\\u041A\"),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:_this3.openMessages,key:\"Сообщения в чатах группы\"},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(EmailIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Сообщения в чатах группы\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:_this3.openPosts,key:\"Пост на стене группы\"},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(WallpaperIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Пост на стене группы\"}))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(\"label\",{style:{textAlign:\"center\"}},\"\\u0414\\u0440\\u0443\\u0433\\u0438\\u0435 \\u043D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:_this3.openFormat,key:\"Формат сигналов\"},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(RadioButtonCheckedIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Формат сигналов\"})),/*#__PURE__*/React.createElement(ListItem,{button:true,onClick:_this3.openAccount,key:\"Дополнительно\"},/*#__PURE__*/React.createElement(ListItemIcon,null,/*#__PURE__*/React.createElement(AccountBoxIcon,null)),/*#__PURE__*/React.createElement(ListItemText,{primary:\"Дополнительно\"}))));};return _this3;}return PageMenu;}(React.Component);export default Page;","map":{"version":3,"sources":["E:/Olympcepy/settings/src/MainPage.js"],"names":["React","SwipeableDrawer","List","Divider","ListItem","ListItemIcon","ListItemText","EmailIcon","WallpaperIcon","AccountBoxIcon","RadioButtonCheckedIcon","AppBar","Toolbar","Typography","IconButton","MenuIcon","ArrowBackIcon","Breadcrumbs","Link","Avatar","Card","CardActions","CardContent","Container","Row","Col","OlympcepyContent","API","Button","CenterView","display","alignItems","justifyContent","props","children","Component","Page","loadAccount","self","chrome","storage","local","get","res","r","settsData","accessToken","userId","loadData","set","setState","state","registered","undefined","setts","s","getUserById","resp","setUserSetts","id","register","window","open","onPanelSwitch","event","type","key","home","currentPage","render","width","cursor","marginLeft","OlympcepyPath","page","padding","PageMenu","openMessages","openPosts","openFormat","openAccount","marginTop","paddingLeft","background","color","textAlign"],"mappings":"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","sourcesContent":["/*global chrome*/\r\n\r\nimport React from \"react\";\r\nimport SwipeableDrawer from \"@material-ui/core/SwipeableDrawer\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport EmailIcon from \"@material-ui/icons/Email\";\r\nimport WallpaperIcon from \"@material-ui/icons/Wallpaper\";\r\nimport AccountBoxIcon from \"@material-ui/icons/AccountBox\";\r\nimport RadioButtonCheckedIcon from \"@material-ui/icons/RadioButtonChecked\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\n\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\n\r\nimport OlympcepyContent from \"./OlympcepyContent\";\r\nimport API from \"./API\";\r\nimport { Button } from \"@material-ui/core\";\r\n\r\nclass CenterView extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    justifyContent: \"center\",\r\n                }}\r\n            >\r\n                {this.props.children}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass Page extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // this.state = { open: false, currentPage: 4 };\r\n\r\n        this.state = { registered: false };\r\n        this.loadAccount();\r\n    }\r\n\r\n    loadAccount = () => {\r\n        var self = this;\r\n        chrome.storage.local.get([\"userId\", \"settsData\"], (res) => {\r\n            var r = res;\r\n            if (r.settsData && r.settsData.accessToken && r.userId) {\r\n                this.loadData(r.userId, r.settsData);\r\n            } else {\r\n                r.settsData = r.settsData ? r.settsData : {};\r\n                chrome.storage.local.set({ settsData: r.settsData }, () => {\r\n                    self.setState((state) => {\r\n                        state.registered = false;\r\n                        state.accessToken = undefined;\r\n                        state.userId = undefined;\r\n                        return state;\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    };\r\n\r\n    loadData = (userId, setts) => {\r\n        var s = setts;\r\n        var self = this;\r\n        API.getUserById(userId, (resp) => {\r\n            API.setUserSetts(resp.id, s, () => {\r\n                self.setState((state) => {\r\n                    state.registered = true;\r\n                    state.accessToken = s.accessToken;\r\n                    state.userId = userId;\r\n                    return state;\r\n                });\r\n            });\r\n        });\r\n    };\r\n\r\n    register = () => {\r\n        chrome.storage.local.set({ \"CepVkLogin\": true }, () => {\r\n            window.open(\r\n                \"https://oauth.vk.com/authorize?client_id=6290333&scope=wall,offline&redirect_uri=http://oauth.vk.com/blank.html&response_type=token&v=5.92\"\r\n            );\r\n        });\r\n    };\r\n\r\n    onPanelSwitch = (open) => (event) => {\r\n        if (open === null) {\r\n            open = !this.state.open;\r\n        }\r\n        if (\r\n            event &&\r\n            event.type === \"keydown\" &&\r\n            (event.key === \"Tab\" || event.key === \"Shift\")\r\n        ) {\r\n            return;\r\n        }\r\n        this.setState((state) => {\r\n            state.open = open;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    home = () => {\r\n        this.setState((state) => {\r\n            state.currentPage = 4;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    render = () => {\r\n        if (!this.state.registered) {\r\n            return (\r\n                <CenterView>\r\n                    <Card\r\n                        style={{\r\n                            width: 300,\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                        }}\r\n                    >\r\n                        <CardContent\r\n                            style={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                            }}\r\n                        >\r\n                            <Typography\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                }}\r\n                            >\r\n                                Для использования расширения необходимо пройти\r\n                                авторизацию с помощью ВКонтакте.\r\n                            </Typography>\r\n                        </CardContent>\r\n                        <CardActions\r\n                            style={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                            }}\r\n                        >\r\n                            <Button\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                }}\r\n                                color=\"primary\"\r\n                                onClick={this.register}\r\n                            >\r\n                                Авторизироваться ВКонтакте\r\n                            </Button>\r\n                        </CardActions>\r\n                    </Card>\r\n                </CenterView>\r\n            );\r\n        }\r\n        return (\r\n            <>\r\n                <AppBar position=\"static\">\r\n                    <Toolbar>\r\n                        <IconButton\r\n                            edge=\"start\"\r\n                            color=\"inherit\"\r\n                            aria-label=\"menu\"\r\n                            onClick={this.onPanelSwitch(true)}\r\n                        >\r\n                            <MenuIcon />\r\n                        </IconButton>\r\n                        <Avatar\r\n                            src=\"icon_128.png\"\r\n                            style={{ cursor: \"pointer\" }}\r\n                            onClick={this.home}\r\n                        />\r\n                        <Typography\r\n                            style={{ cursor: \"pointer\", marginLeft: 10 }}\r\n                            onClick={this.home}\r\n                            variant=\"h6\"\r\n                        >\r\n                            Olympcepy\r\n                        </Typography>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <SwipeableDrawer\r\n                    open={this.state.open}\r\n                    onOpen={this.onPanelSwitch(true)}\r\n                    onClose={this.onPanelSwitch(false)}\r\n                >\r\n                    <PageMenu page={this} />\r\n                </SwipeableDrawer>\r\n                <OlympcepyPath\r\n                    currentPage={this.state.currentPage}\r\n                    page={this}\r\n                />\r\n                <OlympcepyContent currentPage={this.state.currentPage} />\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nclass OlympcepyPath extends React.Component {\r\n    home = () => {\r\n        this.props.page.setState((state) => {\r\n            state.currentPage = 4;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    render = () => {\r\n        return (\r\n            <Breadcrumbs style={{ padding: 20 }} aria-label=\"breadcrumb\">\r\n                <Link style={{ cursor: \"pointer\" }} onClick={this.home}>\r\n                    Olympcepy\r\n                </Link>\r\n                <Typography style={{ cursor: \"default\" }}>\r\n                    {\r\n                        [\r\n                            \"Сообщения в чатах группы\",\r\n                            \"Пост на стене группы\",\r\n                            \"Формат сигналов\",\r\n                            \"Дополнительно\",\r\n                            \"\",\r\n                        ][this.props.currentPage]\r\n                    }\r\n                </Typography>\r\n            </Breadcrumbs>\r\n        );\r\n    };\r\n}\r\n\r\nclass PageMenu extends React.Component {\r\n    openMessages = () => {\r\n        this.props.page.setState((state) => {\r\n            state.open = false;\r\n            state.currentPage = 0;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    openPosts = () => {\r\n        this.props.page.setState((state) => {\r\n            state.open = false;\r\n            state.currentPage = 1;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    openFormat = () => {\r\n        this.props.page.setState((state) => {\r\n            state.open = false;\r\n            state.currentPage = 2;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    openAccount = () => {\r\n        this.props.page.setState((state) => {\r\n            state.open = false;\r\n            state.currentPage = 3;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    render = () => {\r\n        return (\r\n            <>\r\n                <List style={{ marginTop: -8 }}>\r\n                    <ListItem\r\n                        style={{\r\n                            padding: 16,\r\n                            paddingLeft: 25,\r\n                            background: \"#3f51b5\",\r\n                            color: \"white\",\r\n                        }}\r\n                        button\r\n                        key={\"Меню настроек\"}\r\n                        onClick={this.props.page.onPanelSwitch(false)}\r\n                    >\r\n                        <ListItemIcon>\r\n                            <ArrowBackIcon style={{ color: \"white\" }} />\r\n                        </ListItemIcon>\r\n                        <ListItemText\r\n                            style={{ marginLeft: -20 }}\r\n                            primary={\"Меню настроек\"}\r\n                        />\r\n                    </ListItem>\r\n                </List>\r\n                <Divider />\r\n                <label style={{ textAlign: \"center\" }}>\r\n                    Отправка сигналов в ВК\r\n                </label>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem\r\n                        button\r\n                        onClick={this.openMessages}\r\n                        key={\"Сообщения в чатах группы\"}\r\n                    >\r\n                        <ListItemIcon>\r\n                            <EmailIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Сообщения в чатах группы\"} />\r\n                    </ListItem>\r\n                    <ListItem\r\n                        button\r\n                        onClick={this.openPosts}\r\n                        key={\"Пост на стене группы\"}\r\n                    >\r\n                        <ListItemIcon>\r\n                            <WallpaperIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Пост на стене группы\"} />\r\n                    </ListItem>\r\n                </List>\r\n\r\n                <Divider />\r\n                <label style={{ textAlign: \"center\" }}>Другие настройки</label>\r\n                <Divider />\r\n                <List>\r\n                    <ListItem\r\n                        button\r\n                        onClick={this.openFormat}\r\n                        key={\"Формат сигналов\"}\r\n                    >\r\n                        <ListItemIcon>\r\n                            <RadioButtonCheckedIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Формат сигналов\"} />\r\n                    </ListItem>\r\n                    <ListItem\r\n                        button\r\n                        onClick={this.openAccount}\r\n                        key={\"Дополнительно\"}\r\n                    >\r\n                        <ListItemIcon>\r\n                            <AccountBoxIcon />\r\n                        </ListItemIcon>\r\n                        <ListItemText primary={\"Дополнительно\"} />\r\n                    </ListItem>\r\n                </List>\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nexport default Page;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _assertThisInitialized from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _slicedToArray from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _inherits from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Olympcepy\\\\settings\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/*global chrome*/import React from\"react\";import Paper from\"@material-ui/core/Paper\";import Tabs from\"@material-ui/core/Tabs\";import Tab from\"@material-ui/core/Tab\";import Typography from\"@material-ui/core/Typography\";import TextField from\"@material-ui/core/TextField\";import Divider from\"@material-ui/core/Divider\";import AssessmentIcon from\"@material-ui/icons/Assessment\";import UnfoldMoreIcon from\"@material-ui/icons/UnfoldMore\";import TimelapseIcon from\"@material-ui/icons/Timelapse\";import FormatLineSpacingIcon from\"@material-ui/icons/FormatLineSpacing\";import DescriptionIcon from\"@material-ui/icons/Description\";import SettingsIcon from\"@material-ui/icons/Settings\";import DeleteIcon from\"@material-ui/icons/Delete\";import AddIcon from\"@material-ui/icons/Add\";import{MessagesTab,PostsTab}from\"./TradeSTabs\";import{Breadcrumbs,List,ListItem,ListItemAvatar,ListItemText,Button,ButtonGroup}from\"@material-ui/core\";var TradeSContent=/*#__PURE__*/function(_React$Component){_inherits(TradeSContent,_React$Component);var _super=_createSuper(TradeSContent);function TradeSContent(){var _this;_classCallCheck(this,TradeSContent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.render=function(){switch(_this.props.currentPage){case 0:return/*#__PURE__*/React.createElement(MessagesContent,null);case 1:return/*#__PURE__*/React.createElement(PostsContent,null);case 2:return/*#__PURE__*/React.createElement(FormatContent,null);case 3:return/*#__PURE__*/React.createElement(AccountContent,null);default:return/*#__PURE__*/React.createElement(Typography,null,\"Default page\");}};return _this;}return TradeSContent;}(React.Component);function OPTabs(props){var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var handleChange=function handleChange(event,newValue){setValue(newValue);props.tabChanged(newValue);};return/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(Tabs,{value:value,onChange:handleChange},/*#__PURE__*/React.createElement(Tab,{label:\"Olymp Trade\"}),/*#__PURE__*/React.createElement(Tab,{label:\"Pocket Option\"})));}var MessagesContent=/*#__PURE__*/function(_React$Component2){_inherits(MessagesContent,_React$Component2);var _super2=_createSuper(MessagesContent);function MessagesContent(props){var _this2;_classCallCheck(this,MessagesContent);_this2=_super2.call(this,props);_this2.tabChanged=function(index){_this2.setState(function(state){state.index=index;return state;});};_this2.currentTab=function(){return/*#__PURE__*/React.createElement(MessagesTab,{platform:_this2.state.index});};_this2.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(OPTabs,{tabChanged:_this2.tabChanged}),_this2.currentTab());};_this2.state={index:0};return _this2;}return MessagesContent;}(React.Component);var PostsContent=/*#__PURE__*/function(_React$Component3){_inherits(PostsContent,_React$Component3);var _super3=_createSuper(PostsContent);function PostsContent(props){var _this3;_classCallCheck(this,PostsContent);_this3=_super3.call(this,props);_this3.tabChanged=function(index){_this3.setState(function(state){state.index=index;return state;});};_this3.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(OPTabs,{tabChanged:_this3.tabChanged}),/*#__PURE__*/React.createElement(PostsTab,{platform:_this3.state.index}));};_this3.state={index:0};return _this3;}return PostsContent;}(React.Component);var FormatContent=/*#__PURE__*/function(_React$Component4){_inherits(FormatContent,_React$Component4);var _super4=_createSuper(FormatContent);function FormatContent(props){var _this4;_classCallCheck(this,FormatContent);_this4=_super4.call(this,props);_this4.getButtons=function(callback){var self=_assertThisInitialized(_this4);var cb=callback;chrome.storage.local.get([\"buttons\"],function(r){var buttons=r.buttons?r.buttons:[[{type:\"ass\"},{type:\"exp\"},{type:\"dir\"},{type:\"text\",text:\"готовим\"}],[{type:\"ass\"},{type:\"exp\"},{type:\"dir\"},{type:\"text\",text:\"СТАВИМ!!!\"}]];try{cb(buttons);}catch(e){}});};_this4.updateButtons=function(buttons,callback){var cb=callback;chrome.storage.local.set({buttons:buttons},function(){try{cb(buttons);}catch(e){}});};_this4.load=function(){_this4.getButtons(function(buttons){_this4.setState(function(state){state.buttons=buttons;state.loaded=true;return state;});});};_this4.addButton=function(){_this4.getButtons(function(buttons){buttons.push([{type:\"text\",text:\"Сигнал\"}]);_this4.updateButtons(buttons,function(buttons){_this4.setState(function(state){state.buttons=buttons;return state;});});});};_this4.deleteButton=function(index){_this4.getButtons(function(buttons){buttons.splice(index);_this4.updateButtons(buttons,function(buttons){_this4.setState(function(state){state.buttons=buttons;return state;});});});};_this4.getFormatAvatar=function(type){switch(type){case\"ass\":return/*#__PURE__*/React.createElement(AssessmentIcon,null);case\"dir\":return/*#__PURE__*/React.createElement(UnfoldMoreIcon,null);case\"exp\":return/*#__PURE__*/React.createElement(TimelapseIcon,null);case\"stn\":return/*#__PURE__*/React.createElement(FormatLineSpacingIcon,null);case\"stv\":return/*#__PURE__*/React.createElement(FormatLineSpacingIcon,null);case\"text\":return/*#__PURE__*/React.createElement(DescriptionIcon,null);}};_this4.getFormatText=function(format){switch(format.type){case\"ass\":return\"Пара\";case\"dir\":return\"Направление\";case\"exp\":return\"Экспирация\";case\"stn\":return\"Номер страйк-цены\";case\"stv\":return\"Значение страцк-цены\";case\"text\":return\"Текст\";}};_this4.textFormatChanged=function(formatIndex,buttonIndex){return function(event){var target=event.currentTarget;_this4.getButtons(function(buttons){buttons[buttonIndex][formatIndex].text=target.value;_this4.updateButtons(buttons,function(){_this4.setState(function(state){state.buttons=buttons;return state;});});});};};_this4.getFormatContent=function(format,formatIndex,buttonIndex){if(format.type==\"text\"){return/*#__PURE__*/React.createElement(TextField,{value:format.text,size:\"small\",onChange:_this4.textFormatChanged(formatIndex,buttonIndex)});}return _this4.getFormatText(format);};_this4.getButtonConstructor=function(button,index){return/*#__PURE__*/React.createElement(List,null,/*#__PURE__*/React.createElement(ListItem,null,/*#__PURE__*/React.createElement(ButtonGroup,{variant:\"text\"},/*#__PURE__*/React.createElement(Button,null,\"\\u0421\\u0438\\u0433\\u043D\\u0430\\u043B \\u2116\".concat(index+1)),/*#__PURE__*/React.createElement(Button,{onClick:function onClick(){_this4.deleteButton(index);}},/*#__PURE__*/React.createElement(DeleteIcon,null)))),/*#__PURE__*/React.createElement(ListItem,null,/*#__PURE__*/React.createElement(Breadcrumbs,{style:{width:\"100%\"},separator:\"\"},button.map(function(e,i){return/*#__PURE__*/React.createElement(ButtonGroup,{size:\"small\",variant:\"outlined\"},/*#__PURE__*/React.createElement(Button,null,_this4.getFormatAvatar(e.type),_this4.getFormatContent(e,i,index)),/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(SettingsIcon,null)),/*#__PURE__*/React.createElement(Button,null,/*#__PURE__*/React.createElement(DeleteIcon,null)));}),/*#__PURE__*/React.createElement(Button,{size:\"small\",variant:\"outlined\"},/*#__PURE__*/React.createElement(AddIcon,null)))),/*#__PURE__*/React.createElement(ListItem,null,/*#__PURE__*/React.createElement(TextField,{label:\"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\",variant:\"outlined\",style:{width:\"100%\",color:\"black\"},value:ButtonFormat.fromItems(_this4.state.buttons[index]).restore(\"EUR USD\",\"вверх\",\"1 мин.\",\"0\",\"1.154\")})));};_this4.getButtonsList=function(){return/*#__PURE__*/React.createElement(List,null,_this4.state.buttons.map(function(e,i){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(ListItem,null,_this4.getButtonConstructor(e,i)),/*#__PURE__*/React.createElement(Divider,null));}),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(ListItem,null,/*#__PURE__*/React.createElement(Button,{size:\"large\",style:{width:\"100%\"},variant:\"outlined\",onClick:_this4.addButton},/*#__PURE__*/React.createElement(AddIcon,null))));};_this4.render=function(){_this4.load();if(_this4.state.loaded){return/*#__PURE__*/React.createElement(React.Fragment,null,_this4.getButtonsList());}return/*#__PURE__*/React.createElement(React.Fragment,null);};_this4.state={loaded:false,buttons:undefined};return _this4;}return FormatContent;}(React.Component);var AccountContent=/*#__PURE__*/function(_React$Component5){_inherits(AccountContent,_React$Component5);var _super5=_createSuper(AccountContent);function AccountContent(){var _this5;_classCallCheck(this,AccountContent);for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}_this5=_super5.call.apply(_super5,[this].concat(args));_this5.render=function(){return/*#__PURE__*/React.createElement(React.Fragment,null,\"account\");};return _this5;}return AccountContent;}(React.Component);var ButtonFormat=function ButtonFormat(){var _this6=this;_classCallCheck(this,ButtonFormat);this.restore=function(ass,dir,exp,stn,stv){return _this6.items.map(function(e){switch(e.type){case\"ass\":return ass;case\"dir\":return dir;case\"exp\":return exp;case\"stn\":return stn;case\"stv\":return stv;case\"text\":return e.text;}}).join(\" \");};this.add=function(type,text){_this6.items.push(type==text?{type:type,text:text}:{type:type});};this.insert=function(index,type,text){_this6.items[index]=type==text?{type:type,text:text}:{type:type};};this.delete=function(index){_this6.items.splice(index);};this.update=function(index,type,text){_this6.items[index]=type==text?{type:type,text:text}:{type:type};};this.items=[{type:\"ass\"},{type:\"exp\"},{type:\"dir\"},{type:\"text\",text:\"СТАВИМ!!!\"}];};ButtonFormat.fromItems=function(items){var b=new ButtonFormat();b.items=items;return b;};export default TradeSContent;","map":{"version":3,"sources":["E:/Olympcepy/settings/src/TradeSContent.js"],"names":["React","Paper","Tabs","Tab","Typography","TextField","Divider","AssessmentIcon","UnfoldMoreIcon","TimelapseIcon","FormatLineSpacingIcon","DescriptionIcon","SettingsIcon","DeleteIcon","AddIcon","MessagesTab","PostsTab","Breadcrumbs","List","ListItem","ListItemAvatar","ListItemText","Button","ButtonGroup","TradeSContent","render","props","currentPage","Component","OPTabs","useState","value","setValue","handleChange","event","newValue","tabChanged","MessagesContent","index","setState","state","currentTab","PostsContent","FormatContent","getButtons","callback","self","cb","chrome","storage","local","get","r","buttons","type","text","e","updateButtons","set","load","loaded","addButton","push","deleteButton","splice","getFormatAvatar","getFormatText","format","textFormatChanged","formatIndex","buttonIndex","target","currentTarget","getFormatContent","getButtonConstructor","button","width","map","i","color","ButtonFormat","fromItems","restore","getButtonsList","undefined","AccountContent","ass","dir","exp","stn","stv","items","join","add","insert","delete","update","b"],"mappings":"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","sourcesContent":["/*global chrome*/\r\n\r\nimport React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport AssessmentIcon from \"@material-ui/icons/Assessment\";\r\nimport UnfoldMoreIcon from \"@material-ui/icons/UnfoldMore\";\r\nimport TimelapseIcon from \"@material-ui/icons/Timelapse\";\r\nimport FormatLineSpacingIcon from \"@material-ui/icons/FormatLineSpacing\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\n\r\nimport { MessagesTab, PostsTab } from \"./TradeSTabs\";\r\nimport {\r\n    Breadcrumbs,\r\n    List,\r\n    ListItem,\r\n    ListItemAvatar,\r\n    ListItemText,\r\n    Button,\r\n    ButtonGroup,\r\n} from \"@material-ui/core\";\r\n\r\nclass TradeSContent extends React.Component {\r\n    render = () => {\r\n        switch (this.props.currentPage) {\r\n            case 0:\r\n                return <MessagesContent />;\r\n            case 1:\r\n                return <PostsContent />;\r\n            case 2:\r\n                return <FormatContent />;\r\n            case 3:\r\n                return <AccountContent />;\r\n            default:\r\n                return <Typography>Default page</Typography>;\r\n        }\r\n    };\r\n}\r\n\r\nfunction OPTabs(props) {\r\n    const [value, setValue] = React.useState(0);\r\n    const handleChange = (event, newValue) => {\r\n        setValue(newValue);\r\n        props.tabChanged(newValue);\r\n    };\r\n    return (\r\n        <Paper>\r\n            <Tabs value={value} onChange={handleChange}>\r\n                <Tab label=\"Olymp Trade\" />\r\n                <Tab label=\"Pocket Option\" />\r\n            </Tabs>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nclass MessagesContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { index: 0 };\r\n    }\r\n\r\n    tabChanged = (index) => {\r\n        this.setState((state) => {\r\n            state.index = index;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    currentTab = () => {\r\n        return <MessagesTab platform={this.state.index} />;\r\n    };\r\n\r\n    render = () => {\r\n        return (\r\n            <>\r\n                <OPTabs tabChanged={this.tabChanged} />\r\n                {this.currentTab()}\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nclass PostsContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { index: 0 };\r\n    }\r\n\r\n    tabChanged = (index) => {\r\n        this.setState((state) => {\r\n            state.index = index;\r\n            return state;\r\n        });\r\n    };\r\n\r\n    render = () => {\r\n        return (\r\n            <>\r\n                <OPTabs tabChanged={this.tabChanged} />\r\n                <PostsTab platform={this.state.index} />\r\n            </>\r\n        );\r\n    };\r\n}\r\n\r\nclass FormatContent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { loaded: false, buttons: undefined };\r\n    }\r\n\r\n    getButtons = (callback) => {\r\n        var self = this;\r\n        var cb = callback;\r\n        chrome.storage.local.get([\"buttons\"], (r) => {\r\n            var buttons = r.buttons\r\n                ? r.buttons\r\n                : [\r\n                      [\r\n                          { type: \"ass\" },\r\n                          { type: \"exp\" },\r\n                          { type: \"dir\" },\r\n                          { type: \"text\", text: \"готовим\" },\r\n                      ],\r\n                      [\r\n                          { type: \"ass\" },\r\n                          { type: \"exp\" },\r\n                          { type: \"dir\" },\r\n                          { type: \"text\", text: \"СТАВИМ!!!\" },\r\n                      ],\r\n                  ];\r\n            try {\r\n                cb(buttons);\r\n            } catch (e) {}\r\n        });\r\n    };\r\n\r\n    updateButtons = (buttons, callback) => {\r\n        var cb = callback;\r\n        chrome.storage.local.set({ buttons: buttons }, () => {\r\n            try {\r\n                cb(buttons);\r\n            } catch (e) {}\r\n        });\r\n    };\r\n\r\n    load = () => {\r\n        this.getButtons((buttons) => {\r\n            this.setState((state) => {\r\n                state.buttons = buttons;\r\n                state.loaded = true;\r\n                return state;\r\n            });\r\n        });\r\n    };\r\n\r\n    addButton = () => {\r\n        this.getButtons((buttons) => {\r\n            buttons.push([{ type: \"text\", text: \"Сигнал\" }]);\r\n            this.updateButtons(buttons, (buttons) => {\r\n                this.setState((state) => {\r\n                    state.buttons = buttons;\r\n                    return state;\r\n                });\r\n            });\r\n        });\r\n    };\r\n\r\n    deleteButton = (index) => {\r\n        this.getButtons((buttons) => {\r\n            buttons.splice(index);\r\n            this.updateButtons(buttons, (buttons) => {\r\n                this.setState((state) => {\r\n                    state.buttons = buttons;\r\n                    return state;\r\n                });\r\n            });\r\n        });\r\n    };\r\n\r\n    getFormatAvatar = (type) => {\r\n        switch (type) {\r\n            case \"ass\":\r\n                return <AssessmentIcon />;\r\n            case \"dir\":\r\n                return <UnfoldMoreIcon />;\r\n            case \"exp\":\r\n                return <TimelapseIcon />;\r\n            case \"stn\":\r\n                return <FormatLineSpacingIcon />;\r\n            case \"stv\":\r\n                return <FormatLineSpacingIcon />;\r\n            case \"text\":\r\n                return <DescriptionIcon />;\r\n        }\r\n    };\r\n\r\n    getFormatText = (format) => {\r\n        switch (format.type) {\r\n            case \"ass\":\r\n                return \"Пара\";\r\n            case \"dir\":\r\n                return \"Направление\";\r\n            case \"exp\":\r\n                return \"Экспирация\";\r\n            case \"stn\":\r\n                return \"Номер страйк-цены\";\r\n            case \"stv\":\r\n                return \"Значение страцк-цены\";\r\n            case \"text\":\r\n                return \"Текст\";\r\n        }\r\n    };\r\n\r\n    textFormatChanged = (formatIndex, buttonIndex) => (event) => {\r\n        var target = event.currentTarget;\r\n        this.getButtons((buttons) => {\r\n            buttons[buttonIndex][formatIndex].text = target.value;\r\n            this.updateButtons(buttons, () => {\r\n                this.setState((state) => {\r\n                    state.buttons = buttons;\r\n                    return state;\r\n                });\r\n            });\r\n        });\r\n    };\r\n\r\n    getFormatContent = (format, formatIndex, buttonIndex) => {\r\n        if (format.type == \"text\") {\r\n            return (\r\n                <TextField\r\n                    value={format.text}\r\n                    size=\"small\"\r\n                    onChange={this.textFormatChanged(formatIndex, buttonIndex)}\r\n                ></TextField>\r\n            );\r\n        }\r\n        return this.getFormatText(format);\r\n    };\r\n\r\n    getButtonConstructor = (button, index) => {\r\n        return (\r\n            <List>\r\n                <ListItem>\r\n                    <ButtonGroup variant=\"text\">\r\n                        <Button>{`Сигнал №${index + 1}`}</Button>\r\n                        <Button\r\n                            onClick={() => {\r\n                                this.deleteButton(index);\r\n                            }}\r\n                        >\r\n                            <DeleteIcon />\r\n                        </Button>\r\n                    </ButtonGroup>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <Breadcrumbs style={{ width: \"100%\" }} separator=\"\">\r\n                        {button.map((e, i) => {\r\n                            return (\r\n                                <ButtonGroup size=\"small\" variant=\"outlined\">\r\n                                    <Button>\r\n                                        {this.getFormatAvatar(e.type)}\r\n                                        {this.getFormatContent(e, i, index)}\r\n                                    </Button>\r\n                                    <Button>\r\n                                        <SettingsIcon />\r\n                                    </Button>\r\n                                    <Button>\r\n                                        <DeleteIcon />\r\n                                    </Button>\r\n                                </ButtonGroup>\r\n                            );\r\n                        })}\r\n                        <Button size=\"small\" variant=\"outlined\">\r\n                            <AddIcon />\r\n                        </Button>\r\n                    </Breadcrumbs>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <TextField\r\n                        label=\"Предпросмотр\"\r\n                        variant=\"outlined\"\r\n                        style={{ width: \"100%\", color: \"black\" }}\r\n                        value={ButtonFormat.fromItems(\r\n                            this.state.buttons[index]\r\n                        ).restore(\"EUR USD\", \"вверх\", \"1 мин.\", \"0\", \"1.154\")}\r\n                    ></TextField>\r\n                </ListItem>\r\n            </List>\r\n        );\r\n    };\r\n\r\n    getButtonsList = () => {\r\n        return (\r\n            <List>\r\n                {this.state.buttons.map((e, i) => {\r\n                    return (\r\n                        <>\r\n                            <Divider />\r\n                            <ListItem>\r\n                                {this.getButtonConstructor(e, i)}\r\n                            </ListItem>\r\n                            <Divider />\r\n                        </>\r\n                    );\r\n                })}\r\n                <Divider />\r\n                <ListItem>\r\n                    <Button\r\n                        size=\"large\"\r\n                        style={{ width: \"100%\" }}\r\n                        variant=\"outlined\"\r\n                        onClick={this.addButton}\r\n                    >\r\n                        <AddIcon />\r\n                    </Button>\r\n                </ListItem>\r\n            </List>\r\n        );\r\n    };\r\n\r\n    render = () => {\r\n        this.load();\r\n        if (this.state.loaded) {\r\n            return <>{this.getButtonsList()}</>;\r\n        }\r\n        return <></>;\r\n    };\r\n}\r\n\r\nclass AccountContent extends React.Component {\r\n    render = () => {\r\n        return <>account</>;\r\n    };\r\n}\r\n\r\nclass ButtonFormat {\r\n    constructor() {\r\n        this.items = [\r\n            { type: \"ass\" },\r\n            { type: \"exp\" },\r\n            { type: \"dir\" },\r\n            { type: \"text\", text: \"СТАВИМ!!!\" },\r\n        ];\r\n    }\r\n\r\n    restore = (ass, dir, exp, stn, stv) => {\r\n        return this.items\r\n            .map((e) => {\r\n                switch (e.type) {\r\n                    case \"ass\":\r\n                        return ass;\r\n                    case \"dir\":\r\n                        return dir;\r\n                    case \"exp\":\r\n                        return exp;\r\n                    case \"stn\":\r\n                        return stn;\r\n                    case \"stv\":\r\n                        return stv;\r\n                    case \"text\":\r\n                        return e.text;\r\n                }\r\n            })\r\n            .join(\" \");\r\n    };\r\n\r\n    add = (type, text) => {\r\n        this.items.push(\r\n            type == text ? { type: type, text: text } : { type: type }\r\n        );\r\n    };\r\n\r\n    insert = (index, type, text) => {\r\n        this.items[index] =\r\n            type == text ? { type: type, text: text } : { type: type };\r\n    };\r\n\r\n    delete = (index) => {\r\n        this.items.splice(index);\r\n    };\r\n\r\n    update = (index, type, text) => {\r\n        this.items[index] =\r\n            type == text ? { type: type, text: text } : { type: type };\r\n    };\r\n\r\n    static fromItems = (items) => {\r\n        var b = new ButtonFormat();\r\n        b.items = items;\r\n        return b;\r\n    };\r\n}\r\n\r\nexport default TradeSContent;\r\n"]},"metadata":{},"sourceType":"module"}
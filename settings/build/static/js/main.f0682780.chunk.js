(this.webpackJsonppro=this.webpackJsonppro||[]).push([[0],{116:function(e,t,n){e.exports=n(127)},121:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(10),c=n.n(o),l=(n(121),n(23)),s=n(14),u=n(75),i=n(19),m=n(18),d=n(215),p=n(130),f=n(201),g=n(132),h=n(198),E=n(199),y=n(87),v=n.n(y),b=n(88),k=n.n(b),C=n(90),S=n.n(C),D=n(89),T=n.n(D),O=n(211),w=n(212),j=n(27),x=n(192),M=n(58),B=n.n(M),I=n(86),P=n.n(I),F=n(216),A=n(200),L=n(217),R=n(207),_=n(208),G=n(209),U=n(210),q=n(129),H=n(197),J=n(91),X=n(92),W=n(65),z=n(214),N=n(202),K=n(213),V=n(205),$=n(188),Q=n(203),Y=n(204),Z=n(219),ee=n(81),te=n.n(ee),ne=n(82),ae=n.n(ne),re=n(83),oe=n.n(re),ce=n(63),le=n.n(ce),se=n(84),ue=n.n(se),ie=n(64),me=n.n(ie),de=n(51),pe=n.n(de),fe=function e(){Object(s.a)(this,e)};fe.recieved=function(e){return function(t){try{e(JSON.parse(t.currentTarget.responseText))}catch(n){}}},fe.authorize=function(e,t,n){var a=new XMLHttpRequest;a.open("POST","https://trades.pythonanywhere.com/api");var r={method:"auth",data:{id:e,token:t}};a.onload=fe.recieved(n),a.send(JSON.stringify(r))},fe.getUserById=function(e,t){var n=new XMLHttpRequest;n.open("POST","https://trades.pythonanywhere.com/api");var a={method:"user",data:{id:e}};n.onload=fe.recieved(t),n.send(JSON.stringify(a))},fe.getUserByKey=function(e,t){var n=new XMLHttpRequest;n.open("POST","https://trades.pythonanywhere.com/api");var a={method:"user",data:{key:e}};n.onload=fe.recieved(t),n.send(JSON.stringify(a))},fe.getMyData=function(e){var t=e;chrome.storage.local.get(["userId"],(function(e){fe.getUserById(e.userId,t)}))},fe.setUserSetts=function(e,t,n){var a=new XMLHttpRequest;a.open("POST","https://trades.pythonanywhere.com/api");var r={method:"setts",data:{id:e,setts:t}};a.onload=fe.recieved(n),a.send(JSON.stringify(r))},fe.setUserSettsByKey=function(e,t,n){fe.getUserByKey(e,(function(e){fe.setUserSetts(e.id,t,n)}))},fe.uploadMySetts=function(e){var t=e;chrome.storage.local.get(["settsData","userId"],(function(e){var n=e;if(n.userId&&n.settsData){var a={accessToken:n.settsData.accessToken?n.settsData.accessToken:void 0,messages:n.settsData.messages?n.settsData.messages.map((function(e){return{groupToken:e.groupToken?e.groupToken:void 0}})):void 0};fe.setUserSetts(n.userId,a,t)}}))},fe.downloadMySetts=function(e){var t=e;chrome.storage.local.get(["settsData","userId"],(function(e){var n=e;n.userId&&fe.getUserById(n.userId,(function(e){var a=n.settsData?n.settsData:{};a.messages=e.setts.messages?e.setts.messages.map((function(e,t){return e.toSend=a.messages&&a.messages[t]&&a.messages[t].toSend?a.messages[t].toSend:[],e})):[],a.accessToken=e.setts.accessToken,chrome.storage.local.set({settsData:a},(function(){try{t(a)}catch(e){}}))}))}))};var ge=fe,he=n(131),Ee=n(181),ye=n(189),ve=n(186),be=n(187),ke=n(185),Ce=n(194),Se=n(196),De=n(191),Te=n(193),Oe=n(195),we=n(190),je=n(80),xe=n.n(je),Me=n(62),Be=n.n(Me),Ie=function e(){Object(s.a)(this,e)};Ie.executed=function(e){return function(t){if(e)try{e(JSON.parse(t.target.responseText))}catch(n){}}},Ie.getGroupChats=function(e,t){var n=new XMLHttpRequest;n.open("GET","https://api.vk.com/method/messages.getConversations?access_token=".concat(e,"&v=5.120")),n.onload=Ie.executed(t),n.send()},Ie.sendMessageToGroupChat=function(e,t,n,a){var r=new XMLHttpRequest;r.open("GET","https://api.vk.com/method/messages.send?peer_id=".concat(t,"&message=").concat(encodeURIComponent(n),"&access_token=").concat(e,"&v=5.38")),r.onload=Ie.executed(a),r.send()},Ie.getUsersGroups=function(e,t,n){var a=new XMLHttpRequest;a.open("GET","https://api.vk.com/method/groups.get?user_id=".concat(e,"&filter=admin,editor,moder&extended=1&v=5.92&access_token=").concat(t)),a.onload=Ie.executed(n),a.send()},Ie.getMyGroups=function(e){var t=e;chrome.storage.local.get(["settsData","userId"],(function(e){var n=e;Ie.getUsersGroups(n.userId,n.settsData.accessToken,t)}))},Ie.postOnGroupWall=function(e,t,n,a){var r=new XMLHttpRequest;r.open("POST","https://api.vk.com/method/wall.post?owner_id=-".concat(e,"&from_group=1&message=").concat(n,"&signed=1&v=5.120&access_token=").concat(t),!0),r.onload=Ie.executed(a),r.send()},Ie.postOnMyGroupWall=function(e,t,n){var a=n,r=e,o=t;chrome.storage.local.get(["settsData"],(function(e){Ie.postOnGroupWall(r,e.settsData.accessToken,o,a)}))};var Pe=Ie,Fe=n(218),Ae=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onOk=function(){a.props.onOk(a.state.key)},a.onCancel=function(){a.props.onCancel()},a.keyChanged=function(e){if(e.currentTarget){var t=e.currentTarget.value;a.setState((function(e){return e.key=t,e}))}},a.render=function(){return r.a.createElement(Ee.a,{open:a.props.open,onClose:a.switchDialog,"aria-labelledby":"form-dialog-title"},r.a.createElement(ke.a,null,"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 API-\u043a\u043b\u044e\u0447 \u0433\u0440\u0443\u043f\u043f\u044b"),r.a.createElement(ve.a,null,r.a.createElement(be.a,null,"\u0414\u043b\u044f \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0435\u043d\u0438\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0447\u0430\u0442\u044b \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c API-\u043a\u043b\u044e\u0447 \u0433\u0440\u0443\u043f\u043f\u044b."),r.a.createElement(K.a,{autoFocus:!0,margin:"dense",label:"API-\u043a\u043b\u044e\u0447 \u0433\u0440\u0443\u043f\u043f\u044b",fullWidth:!0,onChange:a.keyChanged})),r.a.createElement(ye.a,null,r.a.createElement(he.a,{onClick:a.onCancel,color:"primary"},"Cancel"),r.a.createElement(he.a,{onClick:a.onOk,color:"primary"},"Ok")))},a.state={key:""},a}return n}(r.a.Component),Le=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).build=function(){return a.state.platform!=a.props.platform?a.setState((function(e,t){return e.gotToken=!1,e.platform=t.platform,e.loaded=!1,e.groupToken=void 0,e}),(function(){a.rebuild()})):a.rebuild()},a.rebuild=function(){return!a.state.gotToken&&a.getMessages((function(e,t){return e.groupToken&&a.gotToken(e.groupToken,a.reload)}))},a.openDialog=function(){a.setState((function(e){return e.openDialog=!0,e}))},a.closeDialog=function(){a.setState((function(e){return e.openDialog=!1,e}))},a.getMessages=function(e){var t=Object(l.a)(a);chrome.storage.local.get(["settsData"],(function(n){var a=n,r=void 0!=a.settsData?a.settsData:{};r.messages=r.messages?r.messages:[],r.messages[t.state.platform]=r.messages[t.state.platform]?r.messages[t.state.platform]:{};try{e(r.messages[t.state.platform],r)}catch(o){}}))},a.updateMessages=function(e,t,n){a.getMessages((function(r,o){r.groupToken=e,r.toSend=t,o.messages[a.props.platform]=r,chrome.storage.local.set({settsData:o},(function(){try{n(r,o)}catch(e){}}))}))},a.gotToken=function(e,t){a.getMessages((function(n,r){a.updateMessages(e,n.toSend,(function(){a.setState((function(t){return t.gotToken=!0,t.groupToken=e,t.openDialog=!1,t}),(function(){try{t(e,n,r)}catch(a){}}))}))}))},a.reload=function(){a.setState((function(e){return e.loaded=!1,e.openDialog=!1,e.chats=void 0,e}),(function(){a.load()}))},a.load=function(){a.getMessages((function(e,t){var n={groupToken:e.groupToken,toSend:e.toSend?e.toSend:[]};Pe.getGroupChats(n.groupToken,(function(t){t.error&&(alert(t),console.log(t)),a.setState((function(e){return n.toSend=n.toSend?n.toSend:[],e.chats=t.response.items.filter((function(e){return"chat"==e.conversation.peer.type})).map((function(e){return{id:e.conversation.peer.id,name:e.conversation.chat_settings.title,selected:n.toSend.includes(e.conversation.peer.id)}})),e.loaded=!0,e}),(function(){a.updateMessages(e.groupToken,a.state.chats.filter((function(e){return e.selected})).map((function(e){return e.id})))}))}))}))},a.toSendChanged=function(e){return function(t){e.selected=!e.selected,a.getMessages((function(t,n){a.updateMessages(t.groupToken,a.state.chats.filter((function(t){return t.id==e.id?e.selected:t.selected})).map((function(e){return e.id})),(function(){a.setState((function(t){return t.chats=t.chats.map((function(t){return t.id==e.id?e:t})),t}))}))}))}},a.getChatRows=function(){return a.state.chats.map((function(e){return r.a.createElement(we.a,null,r.a.createElement(De.a,null,e.name),r.a.createElement(De.a,null,r.a.createElement(Fe.a,{checked:e.selected,color:"primary",onChange:a.toSendChanged(e)})),r.a.createElement(De.a,{align:"right"},r.a.createElement(he.a,{onClick:function(){a.getMessages((function(t){Pe.sendMessageToGroupChat(t.groupToken,e.id,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")}))}},"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435")))}))},a.getChatTable=function(){return a.state.loaded?r.a.createElement(Te.a,{component:W.a},r.a.createElement(Ce.a,null,r.a.createElement(Oe.a,null,r.a.createElement(we.a,null,r.a.createElement(De.a,null,"\u0427\u0430\u0442"),r.a.createElement(De.a,null,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),r.a.createElement(De.a,{align:"right"},r.a.createElement(he.a,{onClick:a.reload},r.a.createElement(Be.a,null))))),r.a.createElement(Se.a,null,a.getChatRows()))):r.a.createElement(H.a,{style:{padding:20}})},a.render=function(){return a.build(),a.state.gotToken?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(g.a,{button:!0,onClick:a.openDialog},r.a.createElement(h.a,null,r.a.createElement(xe.a,null)),r.a.createElement(E.a,{primary:a.state.groupToken.slice(0,10)+"..."}))),r.a.createElement(Ae,{open:a.state.openDialog,onCancel:a.closeDialog,onOk:function(e){a.gotToken(e,a.reload)}}),a.getChatTable()):void 0!=a.state.gotToken?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(g.a,{button:!0,onClick:a.openDialog},r.a.createElement(h.a,null,r.a.createElement(pe.a,null)),r.a.createElement(E.a,{primary:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 API-\u043a\u043b\u044e\u0447 \u0433\u0440\u0443\u043f\u043f\u044b"}))),r.a.createElement(Ae,{open:a.state.openDialog,onCancel:a.closeDialog,onOk:function(e){a.gotToken(e,a.reload)}})):r.a.createElement(H.a,{style:{padding:20}})},a.state={platform:a.props.platform,openDialog:!1,gotToken:!1,loaded:!1},a}return n}(r.a.Component),Re=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).build=function(){return a.state.platform!=a.props.platform?a.reload():void 0},a.reload=function(){a.setState((function(e){return e.loaded=!1,e.groups=void 0,e.platform=a.props.platform,e}),(function(){a.load()}))},a.load=function(){a.getPosts((function(e,t){var n=e?e.map((function(e){return e})):[];Pe.getMyGroups((function(e){if(e.error)return alert(e),void console.log(e);a.setState((function(t){return t.loaded=!0,t.groups=e.response.items.map((function(e){return{id:e.id,name:e.name,selected:n.includes(e.id)}}),(function(){a.updatePosts(a.state.groups.filter((function(e){return e.selected})).map((function(e){return e.id})))})),t}))}))}))},a.getPosts=function(e){var t=e,n=Object(l.a)(a);chrome.storage.local.get(["settsData"],(function(e){var a=e.settsData.posts&&e.settsData.posts[n.state.platform]?e.settsData.posts[n.state.platform]:[];try{t(a,e.settsData)}catch(r){}}))},a.updatePosts=function(e,t){a.getPosts((function(n,r){var o=t;r.posts=r.posts?r.posts:[],r.posts[a.state.platform]=e,chrome.storage.local.set({settsData:r},(function(){try{o(r)}catch(e){}}))}))},a.toSendChanged=function(e){return function(t){e.selected=!e.selected,a.updatePosts(a.state.groups.filter((function(t){return t.id==e.id?e.selected:t.selected})).map((function(e){return e.id})),(function(){a.setState((function(t){return t.loaded=!0,t.groups=t.groups.map((function(t){return t.id==e.id?e:t})),t}))}))}},a.getGropuRows=function(){return a.state.groups.map((function(e){return r.a.createElement(we.a,null,r.a.createElement(De.a,null,e.name),r.a.createElement(De.a,null,r.a.createElement(Fe.a,{checked:e.selected,color:"primary",onChange:a.toSendChanged(e)})),r.a.createElement(De.a,{align:"right"},r.a.createElement(he.a,{onClick:function(){Pe.postOnMyGroupWall(e.id,"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442")}},"\u0422\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442")))}))},a.render=function(){return a.build(),a.state.loaded?r.a.createElement(Te.a,{component:W.a},r.a.createElement(Ce.a,null,r.a.createElement(Oe.a,null,r.a.createElement(we.a,null,r.a.createElement(De.a,null,"\u0413\u0440\u0443\u043f\u043f\u0430"),r.a.createElement(De.a,null,"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430"),r.a.createElement(De.a,{align:"right"},r.a.createElement(he.a,{onClick:a.reload},r.a.createElement(Be.a,null))))),r.a.createElement(Se.a,null,a.getGropuRows()))):r.a.createElement(H.a,{style:{padding:20}})},a.state={loaded:!1,platform:-1,groups:void 0},a}return n}(r.a.Component),_e=n(206),Ge=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("iframe",{src:"https://money.yandex.ru/quickpay/shop-widget?writer=seller&targets=%D0%9F%D0%BE%D0%B4%D0%B4%D0%B5%D1%80%D0%B6%D0%BA%D0%B0%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0%20Trade-S&targets-hint=&default-sum=&button-text=13&payment-type-choice=on&mobile-payment-type-choice=on&hint=&successURL=&quickpay=shop&account=4100115567443945",width:"423",height:"222",frameborder:"0",allowtransparency:"true",scrolling:"no"}),r.a.createElement(j.a,null,"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c"," ",r.a.createElement(A.a,{target:"_blank",href:"https://yasobe.ru/na/trade_s_donat"},"\u0441\u0441\u044b\u043b\u043a\u043e\u0439")," ","\u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0435\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 :)"))},e}return n}(r.a.Component),Ue=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).render=function(){switch(e.props.currentPage){case 0:return r.a.createElement(He,null);case 1:return r.a.createElement(Je,null);case 2:return r.a.createElement(Xe,null);case 3:return r.a.createElement(We,null);default:return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{style:{padding:40,margin:40}},r.a.createElement(j.a,null,"\u0412\u0430\u0441 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435-\u043f\u043e\u043c\u043e\u0449\u043d\u0438\u043a \u0434\u043b\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 \u0441 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0435\u0442\u0438 \u0438 \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u044b"),r.a.createElement(j.a,null,"\u0414\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043c\u0435\u043d\u044e",r.a.createElement(he.a,null,r.a.createElement(B.a,null)))),r.a.createElement(f.a,null),r.a.createElement("div",{style:{padding:40}},r.a.createElement(Ge,null)))}},e}return n}(r.a.Component);function qe(e){var t=r.a.useState(0),n=Object(X.a)(t,2),a=n[0],o=n[1];return r.a.createElement(W.a,null,r.a.createElement(z.a,{value:a,onChange:function(t,n){o(n),e.tabChanged(n)}},r.a.createElement(N.a,{label:"Olymp Trade"}),r.a.createElement(N.a,{label:"Pocket Option"})))}var He=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).tabChanged=function(e){a.setState((function(t){return t.index=e,t}))},a.currentTab=function(){return r.a.createElement(Le,{platform:a.state.index})},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{tabChanged:a.tabChanged}),a.currentTab())},a.state={index:0},a}return n}(r.a.Component),Je=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).tabChanged=function(e){a.setState((function(t){return t.index=e,t}))},a.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{tabChanged:a.tabChanged}),r.a.createElement(Re,{platform:a.state.index}))},a.state={index:0},a}return n}(r.a.Component),Xe=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getButtons=function(e){Object(l.a)(a);var t=e;chrome.storage.local.get(["buttons","timeDelta"],(function(e){var n=e.timeDelta?e.timeDelta:0,a=e.buttons?e.buttons:[[{type:"ass"},{type:"text",text:"\u0433\u043e\u0442\u043e\u0432\u0438\u043c"}],[{type:"ass"},{type:"exp"},{type:"dir"},{type:"text",text:"\u0421\u0422\u0410\u0412\u0418\u041c"}]];try{t(a,n)}catch(r){}}))},a.updateButtons=function(e,t,n){var a=n;null!=t?chrome.storage.local.set({buttons:e,timeDelta:t},(function(){try{a(e,t)}catch(n){}})):chrome.storage.local.set({buttons:e},(function(){try{a(e)}catch(t){}}))},a.load=function(){a.getButtons((function(e,t){a.setState((function(n){return n.timeDelta=t,n.buttons=e,n.loaded=!0,n}))}))},a.addButton=function(){a.getButtons((function(e){e.push([]),a.updateButtons(e,void 0,(function(e){a.setState((function(t){return t.buttons=e,t}))}))}))},a.deleteButton=function(e){a.getButtons((function(t){t.splice(e,1),a.updateButtons(t,void 0,(function(e){a.setState((function(t){return t.buttons=e,t}))}))}))},a.getFormatAvatar=function(e){switch(e){case"ass":return r.a.createElement(te.a,null);case"dir":return r.a.createElement(ae.a,null);case"exp":return r.a.createElement(oe.a,null);case"stn":case"stv":return r.a.createElement(le.a,null);case"text":return r.a.createElement(ue.a,null)}},a.getFormatText=function(e){switch(e.type){case"ass":return"\u041f\u0430\u0440\u0430";case"dir":return"\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435";case"exp":return"\u042d\u043a\u0441\u043f\u0438\u0440\u0430\u0446\u0438\u044f";case"stn":return"\u041d\u043e\u043c\u0435\u0440 \u0441\u0442\u0440\u0430\u0439\u043a-\u0446\u0435\u043d\u044b";case"stv":return"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u0439\u043a-\u0446\u0435\u043d\u044b";case"text":return"\u0422\u0435\u043a\u0441\u0442"}},a.formatTypes=function(){return["ass","dir","exp","stn","stv","text"]},a.textFormatChanged=function(e,t){return function(n){var r=n.currentTarget.value,o=a.state.buttons;o[t][e].text=r,a.setState((function(e){return e.buttons=o,e}),(function(){a.updateButtons(o)}))}},a.getFormatContent=function(e,t,n){return"text"==e.type?r.a.createElement(K.a,{value:e.text,size:"small",onChange:a.textFormatChanged(t,n)}):a.getFormatText(e)},a.closeMenus=function(){a.setState((function(e){return e.buttonMenus=void 0,e.ref=void 0,e}))},a.onAddItem=function(e,t,n){return function(r){t.push("text"==e?{type:e,text:""}:{type:e}),a.setState((function(e){return e.buttons[n]=t,e.buttonMenus=void 0,e.ref=void 0,e}),(function(){a.updateButtons(a.state.buttons)}))}},a.onDeleteItem=function(e,t,n){return function(r){t.splice(e,1),a.setState((function(e){return e.buttons[n]=t,e.buttonMenus=void 0,e}),(function(){a.updateButtons(a.state.buttons)}))}},a.openAddItemMenu=function(e){return function(t){var n=t.currentTarget;a.setState((function(t){return t.buttonMenus={},t.buttonMenus[e]={addItem:!0},t.ref=n,t}))}},a.itemAdder=function(e,t){r.a.createRef();return[r.a.createElement(he.a,{size:"small",variant:"outlined",onClick:a.openAddItemMenu(t)},r.a.createElement(pe.a,null)),r.a.createElement(Q.a,{open:a.state.buttonMenus&&a.state.buttonMenus[t]&&a.state.buttonMenus[t].addItem,anchorEl:a.state.ref?a.state.ref:null,role:void 0,transition:!0},r.a.createElement(W.a,null,r.a.createElement(Y.a,{onClickAway:a.closeMenus},r.a.createElement($.a,{autoFocusItem:a.state.buttonMenus&&a.state.buttonMenus[t]&&a.state.buttonMenus[t].addItem},a.formatTypes().map((function(n){return r.a.createElement(V.a,{onClick:a.onAddItem(n,e,t)},a.getFormatText({type:n}))}))))))]},a.getButtonConstructor=function(e,t){var n=ze.fromItems(a.state.buttons[t]).restore("EUR USD","\u0432\u0432\u0435\u0440\u0445","1 \u043c\u0438\u043d.","0","1.154");return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(_e.a,{variant:"text"},r.a.createElement(he.a,null,"\u0421\u0438\u0433\u043d\u0430\u043b \u2116".concat(t+1)),r.a.createElement(he.a,{onClick:function(){a.deleteButton(t)}},r.a.createElement(me.a,null)))),r.a.createElement(g.a,null,r.a.createElement(F.a,{style:{width:"100%"},separator:""},e.map((function(n,o){return r.a.createElement(_e.a,{size:"small",variant:"outlined"},r.a.createElement(he.a,null,a.getFormatAvatar(n.type),a.getFormatContent(n,o,t)),r.a.createElement(he.a,{onClick:a.onDeleteItem(o,e,t)},r.a.createElement(me.a,null)))})),a.itemAdder(e,t))),r.a.createElement(g.a,null,r.a.createElement(he.a,null,"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440")),r.a.createElement(g.a,null,r.a.createElement(K.a,{variant:"outlined",style:{width:"100%"},value:n})))},a.getButtonsList=function(){return r.a.createElement(p.a,null,a.state.buttons.map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,null),r.a.createElement(g.a,{style:{margin:5,background:"#ffffff"}},a.getButtonConstructor(e,t)),r.a.createElement(f.a,null))})),r.a.createElement(f.a,null),r.a.createElement(g.a,null,r.a.createElement(he.a,{size:"large",style:{width:"100%"},variant:"outlined",onClick:a.addButton},r.a.createElement(pe.a,null))))},a.setTimeDelta=function(e,t){var n=t;a.updateButtons(a.state.buttons,n,(function(){a.setState((function(e){return e.timeDelta=n,e}))}))},a.valueLabelFormat=function(e){return parseInt(e)>=0?"+".concat(e," \u0447."):"".concat(e," \u0447.")},a.getMarks=function(){return Object(J.a)(Array(25).keys()).map((function(e,t){return{value:t-12,label:t-12>=0?"+".concat(t-12," \u0447."):"".concat(t-12," \u0447.")}}))},a.render=function(){return a.state.loaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{style:{padding:40,marginLeft:5}},r.a.createElement(j.a,null,"\u0421\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u043e\u0442\u0441\u044b\u043b\u0430\u0435\u043c\u043e\u043c \u0441\u0438\u0433\u043d\u0430\u043b\u0435 (\u0434\u043b\u044f \u044d\u043a\u0441\u043f\u0438\u0440\u0430\u0446\u0438\u0438 \u043a \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438)"),r.a.createElement(Z.a,{value:a.state.timeDelta,step:1,marks:a.getMarks(),min:-12,max:12,onChange:a.setTimeDelta,style:{paddingTop:20,paddingBottom:20},"aria-labelledby":"discrete-slider"})),a.getButtonsList()):r.a.createElement(r.a.Fragment,null)},a.state={loaded:!1,buttons:void 0},a.load(),a}return n}(r.a.Component),We=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).load=function(){a.state.loaded||ge.getMyData((function(e){a.setState((function(t){return t.key=e.key,t.loaded=!0,t}))}))},a.render=function(){return a.load(),a.state.loaded?r.a.createElement(r.a.Fragment,null,r.a.createElement(R.a,{style:{margin:40,width:423}},r.a.createElement(_.a,{avatar:r.a.createElement(L.a,{src:"icon_128.png"}),title:r.a.createElement(j.a,{variant:"h5"},"Trade-S"),subheader:"\u0414\u0435\u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),r.a.createElement(G.a,{style:{padding:20}},r.a.createElement(he.a,{variant:"contained",color:"primary",onClick:function(){chrome.storage.local.clear((function(){window.location.reload()}))}},"\u0412\u044b\u0439\u0442\u0438"))),r.a.createElement(f.a,null),r.a.createElement(W.a,{style:{margin:40,padding:40}},r.a.createElement(K.a,{style:{width:"100%"},label:"\u041a\u043b\u044e\u0447 \u0434\u043b\u044f Trade-S Lite",value:a.state.key})),r.a.createElement(f.a,null),r.a.createElement("div",{style:{padding:40}},r.a.createElement(Ge,null))):r.a.createElement(H.a,{style:{padding:20}})},a.state={loaded:!1},a}return n}(r.a.Component),ze=function e(){var t=this;Object(s.a)(this,e),this.restore=function(e,n,a,r,o){return t.items.map((function(t){switch(t.type){case"ass":return e;case"dir":return n;case"exp":return a;case"stn":return r;case"stv":return o;case"text":return t.text}})).join(" ")},this.add=function(e,n){t.items.push(e==n?{type:e,text:n}:{type:e})},this.insert=function(e,n,a){t.items[e]=n==a?{type:n,text:a}:{type:n}},this.delete=function(e){t.items.splice(e)},this.update=function(e,n,a){t.items[e]=n==a?{type:n,text:a}:{type:n}},this.items=[{type:"ass"},{type:"exp"},{type:"dir"},{type:"text",text:"\u0421\u0422\u0410\u0412\u0418\u041c!!!"}]};ze.fromItems=function(e){var t=new ze;return t.items=e,t};var Ne=Ue,Ke=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},this.props.children)}}]),n}(r.a.Component),Ve=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).loadAccount=function(){var e=Object(l.a)(a);chrome.storage.local.get(["userId","settsData"],(function(t){var n=t;n.settsData&&n.settsData.accessToken&&n.userId?(chrome.storage.local.onChanged.addListener((function(e){e.settsData&&ge.uploadMySetts()})),a.loadData(n.userId,n.settsData)):(n.settsData=n.settsData?n.settsData:{},chrome.storage.local.set({settsData:n.settsData},(function(){e.setState((function(e){return e.logined=!0,e.registered=!1,e.accessToken=void 0,e.userId=void 0,e}),(function(){}))})))}))},a.loadData=function(e,t){var n=t,r=Object(l.a)(a);r.setState((function(e){e.logined=!0}),(function(){chrome.storage.local.set({TRSVkLogin:!1},(function(){ge.downloadMySetts((function(){r.setState((function(t){return t.registered=!0,t.accessToken=n.accessToken,t.userId=e,t}))}))}))}))},a.register=function(){chrome.storage.local.set({TRSVkLogin:!0},(function(){window.open("https://oauth.vk.com/authorize?client_id=6290333&scope=wall,offline&redirect_uri=http://oauth.vk.com/blank.html&response_type=token&v=5.92")}))},a.onPanelSwitch=function(e){return function(t){null===e&&(e=!a.state.open),(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&a.setState((function(t){return t.open=e,t}))}},a.home=function(){a.setState((function(e){return e.currentPage=4,e}))},a.authContent=function(e){return e?r.a.createElement(R.a,{style:{width:450}},r.a.createElement(_.a,{avatar:r.a.createElement(L.a,{src:"icon_128.png"}),title:r.a.createElement(j.a,{variant:"h5"},"Trade-S"),subheader:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),r.a.createElement(U.a,{style:{alignItems:"center",justifyContent:"center"}},r.a.createElement(j.a,null,"\u0414\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0439\u0442\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435.")),r.a.createElement(G.a,{style:{alignItems:"center",justifyContent:"center"}},r.a.createElement(he.a,{variant:"contained",color:"primary",onClick:a.register},"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0412\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u0435"))):r.a.createElement(H.a,{color:"#e0f7fa"})},a.render=function(){return a.state.registered?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{position:"static"},r.a.createElement(w.a,null,r.a.createElement(x.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:a.onPanelSwitch(!0)},r.a.createElement(B.a,null)),r.a.createElement(L.a,{src:"icon_128.png",style:{cursor:"pointer"},onClick:a.home}),r.a.createElement(j.a,{style:{cursor:"pointer",marginLeft:10},onClick:a.home,variant:"h6"},"Trade-S"))),r.a.createElement(d.a,{open:a.state.open,onOpen:a.onPanelSwitch(!0),onClose:a.onPanelSwitch(!1)},r.a.createElement(Qe,{page:Object(l.a)(a)})),r.a.createElement($e,{currentPage:a.state.currentPage,page:Object(l.a)(a)}),r.a.createElement(Ne,{currentPage:a.state.currentPage})):r.a.createElement(q.a,{open:!0,style:{color:"#e3e5fc"}},r.a.createElement(Ke,null,a.authContent(a.state.logined)))},a.state={registered:!1,logined:!1},a.loadAccount();var o=Object(l.a)(a);return chrome.runtime.onMessage.addListener((function(e,t,n){e.userId&&e.accessToken&&"TradeS"==e.extension&&(n({}),o.loadAccount())})),a}return n}(r.a.Component),$e=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).home=function(){e.props.page.setState((function(e){return e.currentPage=4,e}))},e.render=function(){return r.a.createElement(F.a,{style:{padding:20},"aria-label":"breadcrumb"},r.a.createElement(A.a,{style:{cursor:"pointer"},onClick:e.home},"Trade-S"),r.a.createElement(j.a,{style:{cursor:"default"}},["\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0447\u0430\u0442\u0430\u0445 \u0433\u0440\u0443\u043f\u043f\u044b","\u041f\u043e\u0441\u0442 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435 \u0433\u0440\u0443\u043f\u043f\u044b","\u0424\u043e\u0440\u043c\u0430\u0442 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432","\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e",""][e.props.currentPage]))},e}return n}(r.a.Component),Qe=function(e){Object(i.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).openMessages=function(){e.props.page.setState((function(e){return e.open=!1,e.currentPage=0,e}))},e.openPosts=function(){e.props.page.setState((function(e){return e.open=!1,e.currentPage=1,e}))},e.openFormat=function(){e.props.page.setState((function(e){return e.open=!1,e.currentPage=2,e}))},e.openAccount=function(){e.props.page.setState((function(e){return e.open=!1,e.currentPage=3,e}))},e.render=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{style:{marginTop:-8}},r.a.createElement(g.a,{style:{padding:16,paddingLeft:25,background:"#3f51b5",color:"white"},button:!0,key:"\u041c\u0435\u043d\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a",onClick:e.props.page.onPanelSwitch(!1)},r.a.createElement(h.a,null,r.a.createElement(P.a,{style:{color:"white"}})),r.a.createElement(E.a,{style:{marginLeft:-20},primary:"\u041c\u0435\u043d\u044e \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"}))),r.a.createElement(f.a,null),r.a.createElement("label",{style:{textAlign:"center"}},"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432 \u0432 \u0412\u041a"),r.a.createElement(f.a,null),r.a.createElement(p.a,null,r.a.createElement(g.a,{button:!0,onClick:e.openMessages,key:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0447\u0430\u0442\u0430\u0445 \u0433\u0440\u0443\u043f\u043f\u044b"},r.a.createElement(h.a,null,r.a.createElement(v.a,null)),r.a.createElement(E.a,{primary:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432 \u0447\u0430\u0442\u0430\u0445 \u0433\u0440\u0443\u043f\u043f\u044b"})),r.a.createElement(g.a,{button:!0,onClick:e.openPosts,key:"\u041f\u043e\u0441\u0442 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"},r.a.createElement(h.a,null,r.a.createElement(k.a,null)),r.a.createElement(E.a,{primary:"\u041f\u043e\u0441\u0442 \u043d\u0430 \u0441\u0442\u0435\u043d\u0435 \u0433\u0440\u0443\u043f\u043f\u044b"}))),r.a.createElement(f.a,null),r.a.createElement("label",{style:{textAlign:"center"}},"\u0414\u0440\u0443\u0433\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),r.a.createElement(f.a,null),r.a.createElement(p.a,null,r.a.createElement(g.a,{button:!0,onClick:e.openFormat,key:"\u0424\u043e\u0440\u043c\u0430\u0442 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432"},r.a.createElement(h.a,null,r.a.createElement(T.a,null)),r.a.createElement(E.a,{primary:"\u0424\u043e\u0440\u043c\u0430\u0442 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432"})),r.a.createElement(g.a,{button:!0,onClick:e.openAccount,key:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"},r.a.createElement(h.a,null,r.a.createElement(S.a,null)),r.a.createElement(E.a,{primary:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}))))},e}return n}(r.a.Component),Ye=Ve;var Ze=function(){return r.a.createElement(Ye,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[116,1,2]]]);
//# sourceMappingURL=main.f0682780.chunk.js.map